---
enable html: true
---
# 首次开屏广告超时问题解决

## 超时原因
应用在**安装后首次启动**时，因为没有ADmobile后台配置的广告位信息缓存在本地，所以在加载开屏广告时SDK会先联网获取广告位配置，再去请求广告平台的广告，这期间涉及了两次网络请求（串行），因此很容易因超时导致开屏广告展示失败。

## 解决方案
1. 为避免开屏超时问题，开放此设置给开发者，开发者可以根据实际需求选择一家广告平台，**通过API接口将必需参数传递给Suyi聚合SDK**。（该设置只能指定一家广告平台，并且首次启动时只会请求该平台的广告，但App首次开屏广告将不受ADmobile后台控制，包括下载提示，广告位关闭。）当前，仅支持穿山甲、优量汇、快手、百度四个平台。

2. 在首次加载开屏广告时，SDK会使用开发者传入的参数进行广告请求，同时获取后台配置文件的广告配置信息缓存到本地（首次请求广告平台广告和获取配置信息时并发进行），广告位配置信息缓存到本地后，**后续的开屏加载会按照后台配置顺序去请求广告平台的广告**。

3. 因此，SDK需要暴露方法给开发者传入以下信息：
- 三方平台应用ID
- Suyi广告源ID
- 广告平台广告源相关信息（App id、App Key、 广告位ID、 渲染方式等）

4. 各项参数信息，可在图中【聚合管理】页面、【应用列表】页面标示处获得：
![1xinjiangchangjing](../images/12.0/kaiping2.png)
![1xinjiangchangjing](../images/12.0/kaiping1.png)

5. 注意，具体配置代码可参看:
- [Android技术对接文档](https://gitee.com/admobile/ADSuyiSdkDemo-Android#62-%E5%BC%80%E5%B1%8F%E5%B9%BF%E5%91%8A%E7%A4%BA%E4%BE%8B)
- [iOS技术对接文档](https://gitee.com/admobile/ADSuyiSDKDemo-iOS#42-%E5%BC%80%E5%B1%8F%E5%B9%BF%E5%91%8A---adsuyisdksplashad)



<br>
<br>
